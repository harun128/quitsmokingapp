{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactNative = _interopRequireWildcard(require(\"react-native\"));\n\nvar _Box = _interopRequireDefault(require(\"./../../components/UI/Box\"));\n\nvar _colors = require(\"./../../config/colors\");\n\nvar _icons = require(\"./../../assets/icons\");\n\nvar _reactNativeShare = _interopRequireDefault(require(\"react-native-share\"));\n\nvar _reactNativeViewShot = _interopRequireDefault(require(\"react-native-view-shot\"));\n\nvar _MainPageHealthStatus = _interopRequireDefault(require(\"./../../components/mainpage/MainPageHealthStatus\"));\n\nvar _MainPageStatistics = _interopRequireDefault(require(\"./../../components/mainpage/MainPageStatistics\"));\n\nvar _MainPageLastMessages = _interopRequireDefault(require(\"./../../components/mainpage/MainPageLastMessages\"));\n\nvar _MainPageMoneyStatistics = _interopRequireDefault(require(\"../../components/mainpage/MainPageMoneyStatistics\"));\n\nvar _MainPageAchievements = _interopRequireDefault(require(\"../../components/mainpage/MainPageAchievements\"));\n\nvar _reactNativePushNotification = _interopRequireDefault(require(\"react-native-push-notification\"));\n\nvar _18n = _interopRequireDefault(require(\"./../../lang/_18n\"));\n\nvar _jsxFileName = \"C:\\\\Projeler\\\\quitsmoking\\\\src\\\\screens\\\\Home\\\\Home.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar Home = function (_React$Component) {\n  (0, _inherits2.default)(Home, _React$Component);\n\n  var _super = _createSuper(Home);\n\n  function Home() {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, Home);\n    _this = _super.call(this);\n\n    _this.shareWithScreen = function () {\n      _this.refs.viewShot.capture().then(function (uri) {\n        var shareOptions = {\n          title: _18n.default.t(\"mainpage.title\"),\n          message: 'https://play.google.com/store/apps/details?id=com.stop.quitsmoking',\n          url: uri,\n          failOnCancel: false\n        };\n\n        try {\n          var ShareResponse = _reactNativeShare.default.open(shareOptions);\n        } catch (error) {}\n      });\n    };\n\n    _reactNative.AsyncStorage.getItem(\"installed\").then(function (value) {\n      if (value === null) {\n        _this.props.navigation.navigate(\"SetSettings\");\n      }\n    });\n\n    return _this;\n  }\n\n  (0, _createClass2.default)(Home, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState, prevContext) {}\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var t = this;\n\n      _reactNativePushNotification.default.configure({\n        onRegister: function onRegister(token) {},\n        onNotification: function onNotification(notification) {\n          console.log(\"NOTIFICATION:\", notification);\n\n          if (notification.group === \"health\") {\n            t.props.navigation.navigate(\"HealthConditionScreen\", {\n              id: notification.id\n            });\n          } else if (notification.group === \"achievement\") {\n            t.props.navigation.navigate(\"AchievementsScreen\");\n          }\n        },\n        permissions: {\n          alert: true,\n          badge: true,\n          sound: true\n        },\n        popInitialNotification: true,\n        requestPermissions: true\n      });\n\n      this.props.navigation.setOptions({\n        headerTitle: _18n.default.t(\"mainpage.title\"),\n        headerStyle: {\n          backgroundColor: '#3598DB',\n          elevation: 0,\n          shadowOpacity: 0,\n          height: 45\n        },\n        headerTitleStyle: {\n          fontWeight: 'normal',\n          fontSize: 17,\n          flex: 1,\n          textAlign: 'center',\n          justifyContent: 'center'\n        },\n        headerTintColor: '#fff',\n        headerLeft: function headerLeft() {\n          return _react.default.createElement(_reactNative.TouchableOpacity, {\n            style: {\n              paddingLeft: 10,\n              paddingRight: 15\n            },\n            onPress: function onPress() {\n              _this2.props.navigation.navigate(\"Settings\");\n            },\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 21\n            }\n          }, _react.default.createElement(_icons.Settings, {\n            color: \"white\",\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 25\n            }\n          }));\n        },\n        headerRight: function headerRight() {\n          return _react.default.createElement(_reactNative.TouchableOpacity, {\n            onPress: function onPress() {\n              return _this2.shareWithScreen();\n            },\n            style: {\n              paddingRight: 10,\n              paddingLeft: 15\n            },\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 21\n            }\n          }, _react.default.createElement(_icons.Share, {\n            color: \"white\",\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 25\n            }\n          }));\n        }\n      });\n      this.props.navigation.addListener(\"focus\", function () {\n        _reactNative.StatusBar.setBarStyle(\"light-content\");\n\n        _reactNative.StatusBar.setBackgroundColor(\"#3598DB\");\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return _react.default.createElement(_reactNative.SafeAreaView, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 13\n        }\n      }, _react.default.createElement(_reactNative.ScrollView, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 17\n        }\n      }, _react.default.createElement(_Box.default, {\n        style: styles.statistics,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 21\n        }\n      }, _react.default.createElement(_reactNativeViewShot.default, {\n        style: {\n          backgroundColor: '#F2F2F2'\n        },\n        ref: \"viewShot\",\n        options: {\n          format: \"jpg\",\n          quality: 1,\n          backgroundColor: \"white\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 25\n        }\n      }, _react.default.createElement(_MainPageStatistics.default, {\n        navigation: this.props.navigation,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 29\n        }\n      }), _react.default.createElement(_MainPageHealthStatus.default, {\n        navigation: this.props.navigation,\n        onPress: function onPress() {\n          return _this3.props.navigation.navigate(\"HealthScreen\");\n        },\n        title: _18n.default.t(\"mainpage.your_health\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 29\n        }\n      })), _react.default.createElement(_MainPageLastMessages.default, {\n        navigation: this.props.navigation,\n        onPress: function onPress() {\n          _this3.props.navigation.navigate(\"CommunityScreen\");\n        },\n        title: _18n.default.t(\"mainpage.recent_messages\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 25\n        }\n      }), _react.default.createElement(_MainPageAchievements.default, {\n        navigation: this.props.navigation,\n        onPress: function onPress() {\n          return _this3.props.navigation.navigate(\"AchievementsScreen\");\n        },\n        title: _18n.default.t(\"mainpage.achievements\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 25\n        }\n      }), _react.default.createElement(_MainPageMoneyStatistics.default, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 25\n        }\n      }))));\n    }\n  }]);\n  return Home;\n}(_react.default.Component);\n\n;\n\nvar styles = _reactNative.StyleSheet.create({\n  header: {\n    alignItems: 'center',\n    height: 50,\n    flexDirection: 'row',\n    justifyContent: 'center',\n    backgroundColor: _colors.colors.header,\n    paddingHorizontal: 10\n  },\n  headerTitle: {\n    flex: 1,\n    textAlign: 'center',\n    color: 'white',\n    fontSize: 18,\n    justifyContent: 'center'\n  },\n  statistics: {\n    marginHorizontal: 10,\n    marginVertical: 10,\n    flexDirection: 'column'\n  },\n  statisticsHeader: {\n    flexDirection: 'row',\n    height: 50,\n    alignItems: 'center'\n  }\n});\n\nvar _default = Home;\nexports.default = _default;","map":{"version":3,"sources":["C:/Projeler/quitsmoking/src/screens/Home/Home.js"],"names":["Home","shareWithScreen","refs","viewShot","capture","then","uri","shareOptions","title","I18n","t","message","url","failOnCancel","ShareResponse","Share","open","error","AsyncStorage","getItem","value","props","navigation","navigate","prevProps","prevState","prevContext","PushNotification","configure","onRegister","token","onNotification","notification","console","log","group","id","permissions","alert","badge","sound","popInitialNotification","requestPermissions","setOptions","headerTitle","headerStyle","backgroundColor","elevation","shadowOpacity","height","headerTitleStyle","fontWeight","fontSize","flex","textAlign","justifyContent","headerTintColor","headerLeft","paddingLeft","paddingRight","headerRight","addListener","StatusBar","setBarStyle","setBackgroundColor","styles","statistics","format","quality","React","Component","StyleSheet","create","header","alignItems","flexDirection","colors","paddingHorizontal","color","marginHorizontal","marginVertical","statisticsHeader"],"mappings":"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","sourcesContent":["/**\r\n * Sample React Native App\r\n * https://github.com/facebook/react-native\r\n *\r\n * @format\r\n * @flow strict-local\r\n */\r\n\r\nimport React from 'react';\r\nimport {\r\n    StatusBar,\r\n    SafeAreaView,\r\n    StyleSheet,\r\n    ScrollView,\r\n    AsyncStorage,\r\n    TouchableOpacity, default as Animated\r\n\r\n} from 'react-native';\r\n\r\nimport Box from './../../components/UI/Box'\r\nimport {colors} from './../../config/colors'\r\n\r\n\r\nimport {Settings, Share as ShareIcon} from \"./../../assets/icons\";\r\nimport Share from 'react-native-share';\r\nimport ViewShot from \"react-native-view-shot\";\r\n\r\n\r\n\r\nimport MainPageHealthStatus from \"./../../components/mainpage/MainPageHealthStatus\";\r\nimport MainPageStatistics from \"./../../components/mainpage/MainPageStatistics\";\r\nimport MainPageLastMessages from \"./../../components/mainpage/MainPageLastMessages\";\r\nimport MainPageMoneyStatistics from \"../../components/mainpage/MainPageMoneyStatistics\";\r\n\r\n\r\nimport MainPageAchievements from \"../../components/mainpage/MainPageAchievements\";\r\nimport PushNotification from \"react-native-push-notification\";\r\n\r\nimport I18n from \"./../../lang/_18n\"\r\n\r\nclass Home extends React.Component  {\r\n\r\n    constructor() {\r\n        super();\r\n        AsyncStorage.getItem(\"installed\").then((value) => {\r\n            if(value === null ){\r\n                this.props.navigation.navigate(\"SetSettings\");\r\n            }\r\n        });\r\n\r\n    }\r\n    componentDidUpdate(prevProps: Props, prevState: State, prevContext: *): * {\r\n\r\n    }\r\n\r\n    componentDidMount(): void {\r\n\r\n        const t = this;\r\n\r\n        PushNotification.configure({\r\n            // (optional) Called when Token is generated (iOS and Android)\r\n            onRegister: function (token) {\r\n            },\r\n            // (required) Called when a remote is received or opened, or local notification is opened\r\n            onNotification: function (notification) {\r\n                console.log(\"NOTIFICATION:\", notification);\r\n                if(notification.group === \"health\") {\r\n                    t.props.navigation.navigate(\"HealthConditionScreen\",{id:notification.id});\r\n                }else if(notification.group === \"achievement\") {\r\n                    t.props.navigation.navigate(\"AchievementsScreen\");\r\n                }\r\n\r\n                // process the notification\r\n\r\n                // (required) Called when a remote is received or opened, or local notification is opened\r\n                //notification.finish(PushNotificationIOS.FetchResult.NoData);\r\n            },\r\n            // IOS ONLY (optional): default: all - Permissions to register.\r\n            permissions: {\r\n                alert: true,\r\n                badge: true,\r\n                sound: true,\r\n            },\r\n            // Should the initial notification be popped automatically\r\n            // default: true\r\n            popInitialNotification: true,\r\n            /**\r\n             * (optional) default: true\r\n             * - Specified if permissions (ios) and token (android and ios) will requested or not,\r\n             * - if not, you must call PushNotificationsHandler.requestPermissions() later\r\n             * - if you are not using remote notification or do not have Firebase installed, use this:\r\n             *     requestPermissions: Platform.OS === 'ios'\r\n             */\r\n            requestPermissions: true,\r\n        });\r\n\r\n\r\n        this.props.navigation.setOptions({\r\n                headerTitle:I18n.t(\"mainpage.title\"),\r\n                headerStyle : {\r\n                    backgroundColor: '#3598DB',\r\n                    elevation: 0,       //remove shadow on Android\r\n                    shadowOpacity: 0,\r\n                    height:45,\r\n                },\r\n                headerTitleStyle: {\r\n                    fontWeight: 'normal',\r\n                    fontSize:17,\r\n                    flex:1,\r\n                    textAlign:'center',\r\n                    justifyContent:'center',\r\n\r\n                },\r\n                headerTintColor: '#fff',\r\n                headerLeft : () => (\r\n                    <TouchableOpacity style={{paddingLeft:10,paddingRight:15}} onPress={() => {this.props.navigation.navigate(\"Settings\")} }>\r\n                        <Settings color='white'/>\r\n                    </TouchableOpacity>\r\n                ),\r\n                headerRight :() => (\r\n                    <TouchableOpacity onPress={() => this.shareWithScreen()} style={{paddingRight:10, paddingLeft:15}}>\r\n                        <ShareIcon  color='white'/>\r\n                    </TouchableOpacity>\r\n                )\r\n            }\r\n        );\r\n        this.props.navigation.addListener(\"focus\",()=>{\r\n            StatusBar.setBarStyle(\"light-content\");\r\n            StatusBar.setBackgroundColor(\"#3598DB\");\r\n        });\r\n\r\n\r\n    }\r\n\r\n    shareWithScreen =() => {\r\n        this.refs.viewShot.capture().then((uri) => {\r\n             let shareOptions = {\r\n                 title : I18n.t(\"mainpage.title\"),\r\n                 message : 'https://play.google.com/store/apps/details?id=com.stop.quitsmoking',\r\n                 url : uri,\r\n                 failOnCancel: false,\r\n            }\r\n            try {\r\n                const ShareResponse = Share.open(shareOptions);\r\n\r\n            }catch(error) {\r\n\r\n            }\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <SafeAreaView>\r\n                <ScrollView>\r\n                    <Box style={styles.statistics}>\r\n                        <ViewShot style={{backgroundColor: '#F2F2F2'}} ref=\"viewShot\" options={{format:\"jpg\",quality:1,backgroundColor:\"white\"}}   >\r\n                            <MainPageStatistics navigation={this.props.navigation}/>\r\n                            <MainPageHealthStatus navigation={this.props.navigation} onPress={() => this.props.navigation.navigate(\"HealthScreen\")}\r\n                                              title={I18n.t(\"mainpage.your_health\")}/>\r\n                        </ViewShot>\r\n                        <MainPageLastMessages  navigation={this.props.navigation}  onPress={() => {\r\n                            this.props.navigation.navigate(\"CommunityScreen\")\r\n                        }} title={I18n.t(\"mainpage.recent_messages\")}/>\r\n                        <MainPageAchievements navigation={this.props.navigation}\r\n                                              onPress={() => this.props.navigation.navigate(\"AchievementsScreen\")}\r\n                                              title={I18n.t(\"mainpage.achievements\")}/>\r\n                        <MainPageMoneyStatistics/>\r\n                    </Box>\r\n                </ScrollView>\r\n            </SafeAreaView>\r\n        );\r\n    }\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n    header : {\r\n        alignItems:'center',\r\n        height:50,\r\n        flexDirection: 'row',\r\n        justifyContent: 'center',\r\n        backgroundColor:colors.header,\r\n        paddingHorizontal:10\r\n    },\r\n    headerTitle: {\r\n        flex :1,\r\n        textAlign:'center',\r\n        color:'white',\r\n        fontSize:18,\r\n        justifyContent: 'center'\r\n    },\r\n    statistics : {\r\n        marginHorizontal: 10,\r\n        marginVertical:10,\r\n        flexDirection: 'column',\r\n    },\r\n    statisticsHeader :{\r\n        flexDirection: 'row',\r\n        height:50,\r\n        alignItems: 'center',\r\n    }\r\n});\r\n\r\n\r\nexport default (Home);\r\n\r\n\r\n"]},"metadata":{},"sourceType":"script"}